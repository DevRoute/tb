// 主要内容
#ice-container {
  position: relative;
  left: calc($tools_width + var(--cate-width));
  background-color: $bg_color_3;
  &::before {
    content: "淘宝网首页.md";
    display: flex;
    align-items: center;
    width: 100px;
    height: $tab_title_height;
    padding-left: 30px;
    position: fixed;
    top: $topbar_height;
    left: calc($tools_width + var(--cate-width));
    color: $font_color;
    font-style: italic;
    z-index: 999;
    background-color: $bg_color_1;
    background-image: url("https://img.alicdn.com/imgextra/i2/3558723722/O1CN01Fn6k111dMj9LMorPh_!!3558723722-2-tblife2_ugc.png");
    background-size: 16px 16px;
    background-repeat: no-repeat;
    background-position: 5% 50%;
  }
  // 这个元素给滚动时遮挡搜索组件背景过渡的，这样不会太突兀
  &::after {
    content: "";
    display: block;
    position: fixed;
    top: $topbar_height;
    left: 0;
    width: 100vw;
    height: $tab_title_height;
    background-color: $bg_color_2;
  }
  // 活动横幅
  & > .J_Module,
  & > div[data-name="superbanner"] {
    left: calc(0px - (var(--cate-width) + $tools_width));
    top: $topbar_height + 5px;
    width: 100vw;
    z-index: 200;
  }
  // 默认搜索
  & > .cup.search-fixed {
    margin: unset;
    width: $content_width;
    border-radius: unset;
    margin-top: $tab_title_height;
    & > .top {
      margin: unset;
      // height: $topbar_height;
      padding: unset;
      min-height: 5.6rem;
      height: auto;
      background-color: $bg_color_2;
      // 这个元素给滚动时遮挡搜索组件背景过渡的，这样不会太突兀
      &::after {
        content: "";
        display: block;
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: $topbar_height;
        background-color: $bg_color_3;
      }
      .top-wrap {
        width: inherit;
        background-color: $bg_color_2;
        padding-top: 15px;
        display: flex;
        justify-content: center;
        height: auto;
        // .tbh-logo,
        .tbh-logo-right,
        a[class="logo"],
        .tbh-logo {
          display: none;
        }
        .tbh-search {
          margin: auto;
          width: 100%;
          .search-wrap {
            #J_Search {
              z-index: 200;
              width: 35rem !important;
              height: auto;
              background-color: $bg_color_2;
              border: unset;
              left: calc(($content_width - 35rem) / 2) !important;
              div[data-sg-type="tab"] {
                left: 2px;
              }
              form[name="search"] {
                background-color: #fff;
                border: 2px solid var(--tbpc-primary-theme-color);
                border-radius: 12px;
                .btn-search {
                  top: 2px;
                  height: 38px;
                }
              }
              .search-suggest-popup {
                position: relative;
                left: calc(($content_width - 35rem - 2rem) / -2) !important;
                top: 0 !important;
                width: calc($content_width - 2rem) !important;
                transform: unset;
                .search-suggest-menu {
                  position: absolute;
                  display: block !important;
                  left: 0;
                  width: calc($content_width - 2rem);
                  background-color: get_bg_color(3%);
                  border: unset;
                  border-radius: unset;
                  padding: unset;
                  .search-suggest-menu-header {
                    .search-suggest-menu-history {
                      margin: unset;
                      padding: unset;
                      .search-suggest-menu-history-header {
                        background-color: $blue_bg_color;
                        padding: 8px 12px;
                        margin: unset;
                        &::before {
                          content: "最近打开";
                          display: inline-block;
                          color: $blue_font_color;
                        }
                        .search-suggest-menu-history-title {
                          display: none;
                        }
                        .search-suggest-menu-history-clean-icon {
                          fill: $font_color;
                        }
                      }
                      .search-suggest-menu-history-content-wrapper {
                        .search-suggest-menu-history-list-wrapper {
                          height: unset;
                          width: 100%;
                          .search-suggest-menu-history-item {
                            background-color: $bg_color_2;
                            margin: unset;
                            border: unset;
                            border-radius: unset;
                            padding: unset;
                            width: 50%;
                            padding: 8px 12px;
                            background-color: transparent;
                            &:hover {
                              background-color: $bg_color_3;
                            }
                            .title {
                              display: flex;
                              align-items: center;
                            }
                            &:nth-child(4n) .title{
                              @include file-icon($file_icon_html_url, "html");
                            }
                            &:nth-child(4n + 1) .title{
                              @include file-icon($file_icon_md_url, "md");
                            }
                            &:nth-child(4n + 2) .title{
                              @include file-icon($file_icon_exe_url, "exe");
                            }
                            &:nth-child(4n + 3) .title{
                              @include file-icon($file_icon_js_url, "js");
                            }
                          }
                        }
                      }
                    }
                  }
                  * {
                    color: $font_color;
                  }
                  .search-suggest-menu-content {
                    .titleWrapper {
                      background-color: $blue_bg_color;
                      margin: unset;
                      padding: 8px 13px;
                      .title {
                        color: $blue_font_color;
                      }
                    }
                  }
                  
                  .search-suggest-menu-item {
                    &:hover {
                      background-color: $bg_color_3;
                    }

                    &::before {
                      content: "";
                      display: inline-block;
                      width: 16px;
                      height: 16px;
                      background-repeat: no-repeat;
                      background-size: 100% 100%;
                      margin-right: 5px;
                    }
                    display: flex;
                    align-items: center;
                    padding-left: 5px;
                    .item-wrapper {
                      height: 32px;
                      line-height: unset;
                      .item-text {
                        float: unset;
                      }
                    }
                    .text,
                    .item-wrapper {
                      &::after {
                        display: inline-block;
                      }
                    }
                    $extensions: ".md", ".exe", ".js", ".html";
                    @each $ext in $extensions {
                      $index: index($extensions, $ext);
                      $url: nth($file_icon_arror, $index);
                      &:nth-child(4n + #{$index - 1}) {
                        &::before {
                          background-image: url($url);
                        }
                        .text::after,
                        .item-wrapper::after {
                          content: $ext;
                        }
                      }
                    }
                  }
                }
              }
              & > div[style*="block"] {
                height: 100%;
                min-height: 12.8rem;
                &:hover {
                  display: block !important;
                }
                .search-suggest-menu {
                  height: 100%;
                  overflow: auto;
                }
              }
            }
          }
        }
      }
    }
  }
  // 开始时搜索栏
  & > .search-fixed.search-decorations {
    & > .top {
      background-color: $bg_color_3;
      .top-wrap {
        padding-top: 15px;
      }
    }
  }
  // 滚动时搜索栏
  & > .wrap-fixed.search-decorations,
  & > .cup.wrap-fixed {
    & > .top {
      background-color: $bg_color_3;
      height: $topbar_height;
      padding: unset;
      // border-bottom: 1px solid $border_color;
      &::after {
        @include logo_style;
      }
      .top-wrap {
        div[data-name="search"] {
          @include input_search_style;
        }
        .tbh-logo {
          display: none;
        }
      }
    }
    // tab固定样式
    + .screen-outer + .layer {
      .smallTabListWrapper {
        position: fixed;
        top: $topbar_height !important;
        left: calc($tools_width + var(--cate-width));
        z-index: 1000;
      }
    }
  }
  // 分类这一行
  & > .screen-outer {
    height: 0;
    padding-top: unset;
    div[data-name="service"] {
      .J_Service {
        position: fixed;
        top: $topbar_height;
        left: $tools_width;
        z-index: 220;
        height: calc(100vh - $topbar_height - 30px);
        max-height: unset;
        background-color: $bg_color_2;
        margin-left: unset;
        border-radius: unset;
        &::before {
          content: "资源管理器";
          display: flex;
          align-items: center;
          width: 100%;
          height: $tab_title_height;
          color: $font_color;
          font-size: 16px;
          padding: 0 0 0 30px;
          box-sizing: border-box;
        }
        div[class^="cate-title"] {
          padding: 0 16px;
          background-color: get_bg_color(30%);
          @include arrow_style;
          span[class^="cate-title-txt"] {
            color: $font_color;
            &::before {
              content: "产品";
              display: inline-block;
            }
          }
          span[class^="cate-title-icon--"] {
            display: none;
          }
        }
        ul[class^="service-bd"] {
          width: var(--cate-width);
          background-color: $bg_color_2;
          position: relative;
          overflow: auto;
          height: calc(100vh - (($topbar_height * 5) - 30px));
          li.J_Cat {
            margin: unset;
            padding-left: 16px;
            height: auto;
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            overflow-y: auto;
            overflow-x: hidden;
            @include arrow_up_style;
            div[class^="first-cate-container"] {
              display: flex;
              align-items: center;
              width: calc($cate_width - 3rem); // 减去展开图标宽度
              i {
                display: none;
              }
              @include folder_icon_style;
              // 分类文字
              a[class^="cate-content-href"] {
                color: get_font_color(30%);
              }
              // 链接斜杆
              span[class^="service-slash"] {
                color: get_font_color(30%);
              }
            }
            &:hover {
              background-color: $bg_color_2;
              @include arrow_style;
            }
            $li_height: 32px;
            // 悬停弹出分类这块
            & > div[class^="sec-cate--"] {
              position: unset;
              padding-left: 1rem;
              width: calc($cate_width - 1rem);
              z-index: 230;
              & > div[class^="sec-cate-container--"] {
                width: calc(100% - 8px) !important;
                background-color: $bg_color_2;
                border: unset;
                padding: unset;
                & > div[class^="sec-cate-container-scroll--"] {
                  overflow-x: hidden;
                  max-height: calc(100vh - $tab_title_height - $topbar_height);
                  & > div[class^="cate-links-container"] {
                    // 标题字体
                    [class^="sec-cate-title-container-a--"] {
                      color: get_font_color(30%);
                    }
                    // 二级文件夹
                    div[class^="sec-cate-item"] {
                      height: $li_height;
                      margin: unset;
                      display: flex;
                      align-items: center;
                      @include arrow_up_style;
                      a {
                        position: unset;
                        display: flex;
                        align-items: center;
                        @include folder_icon_style;
                      }
                      .tb-ifont {
                        display: none;
                      }
                      &:hover {
                        @include arrow_style;
                        + div {
                          display: flex;
                        }
                      }
                    }
                    // 三级文件
                    div[class^="sec-cate-content"] {
                      display: none;
                      margin: unset;
                      padding-left: 1.37rem;
                      flex-wrap: wrap;
                      &:hover {
                        display: flex;
                      }
                      a {
                        width: calc(100% - 2rem);
                        word-wrap: break-word;
                        white-space: pre-wrap;
                        &:nth-child(4n) {
                          @include file-icon($file_icon_html_url, "html");
                        }
                        &:nth-child(4n + 1) {
                          @include file-icon($file_icon_md_url, "md");
                        }
                        &:nth-child(4n + 2) {
                          @include file-icon($file_icon_exe_url, "exe");
                        }
                        &:nth-child(4n + 3) {
                          @include file-icon($file_icon_js_url, "js");
                        }
                      }
                    }
                  }
                  & > [class^="venues-brands-container"] {
                    display: none;
                  }
                }
              }
            }
          }
          // 链接字体
          a {
            color: get_font_color(30%);
            &:hover {
              color: var(--tbpc-primary-theme-color);
            }
            div[class^="brand--"]:hover {
              background-color: var(--tbpc-bg2-color);
            }
          }
        }
      }
    }
    // 登录这块
    .main {
      height: 0;
      .main-inner {
        .core.J_Core {
          height: 0;
          overflow: hidden;
        }
        // 右侧信息
        .col-right {
          position: fixed;
          top: $topbar_height;
          right: 0;
          z-index: 220;
          margin-right: unset;
          height: calc(100vh - $topbar_height);
          background-color: $bg_color_2;
          overflow: auto;
          border-left: 1px solid $bg_color_3;
          &::before {
            content: "个人首页.md";
            display: flex;
            align-items: center;
            width: 100px;
            height: $tab_title_height;
            padding-left: 30px;
            color: $font_color;
            font-style: italic;
            z-index: 999;
            background-color: $bg_color_1;
            background-image: url("https://img.alicdn.com/imgextra/i2/3558723722/O1CN01Fn6k111dMj9LMorPh_!!3558723722-2-tblife2_ugc.png");
            background-size: 16px 16px;
            background-repeat: no-repeat;
            background-position: 5% 50%;
          }
          .tbh-user {
            margin: 5px;
            border-radius: unset;
            background-color: $bg_color_2;
            background-image: unset !important;
            a.mytao-collectitem {
              color: get_font_color(30%);
              p {
                color: inherit;
              }
              &:hover {
                p,
                span {
                  color: var(--tbpc-primary-theme-color);
                }
              }
            }
            strong,
            a,
            div[class^="login-guide-"],
            .user-externalLink-item-text {
              color: get_font_color(30%);
            }
          }
        }
      }
    }
  }
  // 商品内容
  & > .layer {
    margin: unset;
    width: $content_width;
    overflow: hidden;
    .layer-inner {
      width: inherit;
      background-color: $bg_color_1;
      .tb-picks-container {
        width: inherit;
        // 商品标题
        .smallTabListWrapper {
          z-index: 210;
          width: $content_width;
          padding: unset;
          height: $tab_title_height;
          background-color: $bg_color_2;
          .smallTabListInnerWrapper {
            width: inherit;
            .smallTabList {
              padding: unset;
              width: inherit;
              overflow-x: auto;
              .smallTabWrapper {
                height: inherit;
                background-color: $bg_color_3;
                padding: 0 15px;
                margin: unset;
                .smallTabTitle {
                  color: get_font_color(30%);
                }
                // 选中的样式
                &.smallTabWrapperSelected {
                  background-color: $bg_color_1;
                  .smallTabTitle {
                    color: $font_color;
                  }
                  &::before {
                    display: none;
                  }
                }
              }
            }
          }
        }
        // 商品列表
        .tb-pick-feeds-container {
          width: inherit;
          display: flex;
          flex-wrap: wrap;
          padding: 5px 15px;
          box-sizing: border-box;
          gap: 16px;
          .tb-pick-content-item {
            float: unset;
            flex: 1;
            margin: auto;
            min-width: 200px;
            max-width: 240px;
            height: unset;
            aspect-ratio: 1 / 1.47;
            background-color: $bg_color_1;
            border-radius: 20px;
            &:hover {
              background-color: $bg_color_3;
              transform: translateY(-15px);
            }
            a {
              .img-wrapper {
                width: inherit;
                height: unset;
                aspect-ratio: 1 / 1;
              }
              .info-wrapper {
                .info-wrapper-title-text {
                  color: $font_color;
                }
              }
              .hover-border {
                display: none;
                // width: calc(100% + 8px);
                // height: calc(100% + 8px);
                // &:hover {
                //   border: 1px solid $border_color;
                // }
              }
            }
          }
        }
      }
    }
  }
}
